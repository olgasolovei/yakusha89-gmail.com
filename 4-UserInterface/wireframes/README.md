@startuml
start


:Користувач відкриває сторінку авторизації (login.html);
:Завантаження сторінки ≤3с (NFR1);
:Валідація форм логіну та паролю (NFR7);

:Користувач вводить логін та пароль;
:Перевірка коректності даних (NFR2, без дублікатів);

if (Дані вірні?) then (так)
    :Авторизація успішна;
else (ні)
    :Помилка авторизації;
    stop
endif

partition "Dashboard – Моніторинг тросів" {
    :Завантаження Dashboard (index.html);
    :Відображення графіків та таблиць, оновлення ≤200 мс (NFR8);

    fork
        :Система аналізує стан тросів (FR-R1);
        :Логування ризиків у БД (FR-R3);
        :Автозбереження оновлених даних (NFR6);
    fork again
        :Користувач фільтрує дані ≤3 кліки (NFR5);
    end fork
}

if (Високий ризик?) then (так)
    partition "Система оповіщення" {
        fork
            :Надсилання сигналу/Push (FR-R2);
        fork again
            :Автоматична зупинка підйому (FR-R4);
        end fork

        :Відображення Alert Popup (alert.html);
        :Сповіщення ≤1 с після події (NFR12);
        :Підтвердження отримання;
    }
endif

partition "Перегляд деталей тросу" {
    :Перехід на detail.html;
    :Генерація та відображення звіту ≤3 сек (NFR9);
}

partition "Історія подій" {
    :Користувач відкриває history.html;
    :Сумісність з браузерами (NFR10);
    :Завантаження записів з БД;
}


partition "Налаштування" {
    :Користувач змінює параметри (settings.html);
    :Автозбереження змін (NFR11);
}

stop
@enduml
